<% if @customer.errors.any? %>
  <ul>
    <% @customer.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
  </ul>
<% end %>

<div id="customer-container">
  <%= nested_form_for @customer do |f| %>
    <%= render "customer_fields", :f => f %>

    <p><b>Address of the customer </b></p>
    <%= f.fields_for :address do |builder| %>
      <%= render "address_fields", :builder => builder %>
    <% end %>

    <p><b>Email Ids of the customer </b></p>
    <%= f.fields_for :emails do |builder| %>
      <%= render "email_fields", :builder => builder %>
    <% end %>
    <%= f.link_to_add "Add New Email", :emails %>

    <p><b>Phone Numbers of the customer </b></p>
    <%= f.fields_for :phone_numbers do |builder| %>
      <%= render "phone_number_fields", :builder => builder %>
    <% end %>
    <%= f.link_to_add "Add New Phone Number", :phone_numbers %><br />

    <%= f.fields_for :special_note do |builder| %>
      <%= render "special_note_fields", :builder => builder %>
    <% end %>

    <%= f.submit %>
  <% end %>
</div>